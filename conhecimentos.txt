Através de alguns tutoriais, vídeos e outras fontes de informações, irei adquirindo os conhecimentos guardados aqui neste arquivo.

2 Tipos de boletos:

 - com Registro: há registro antecipado do boleto no banco do cedente
 - sem Registro: pode ser preenchido à mão. O que importa são os dados contidos na numeração e o cód. de barras

Remessas e retornos

Tipos de boletos: 
CNAB 240 , CNAB 400

Sacado = quem paga
Cedente = quem recebe

Id do boleto ou número de remessa = número sequencial dos boletos já emitidos pela empresa apenas para controle próprio

carteira de cobrança = registro genérico no banco do cedente para receber cobranças

Problemas do sem registro:
- segurança 
- facil manipulacao dos dados e do código de barras através de programas espalhados na internet

Podemos fazer a criação de boletos interagindo direto com o banco ou interagindo com sistemas intermediários de pgto como uol, pagseguro ou sistemas especialistas de boletos

Sistemas externos para emissão de boletos:
- cobre gratis
- assaas
- bling
- conta azul
- procurar sistemas de nota fiscal e boletos registrados com api
- gerencianet
- superlogica
- boletofast
- boleto simples




.www.bb.com.br/leiautes

http://www.bb.com.br/pbb/pagina-inicial/aplicativos-bb/leiautes#/

http://www.bb.com.br/docs/pub/inst/dwn/tutorialProprio.pdf


Contato do banco do Brasil: 30030500


carteira registrada ou sem registro.

tem que registrar a carteira e cada boleto.

carteira registrada tem um número padrão.


remessa

pode ser encaminhado através do gerenciador financeiro.

pode ser posterior ao pagamento.


----------------------------------

Testes realizados pelo sistema Wescola


Meios de obter retorno do bb

urlInforma = para receber confirmação de trasação finalizada no site do bb (não é confirmação de pgto)

acionar Formulário sonda = para ver a liquidação do compromisso (se efetivamente foi pago)

aguardar a disponibilização de arquivo retorno no dia útil seguinte ao pagamento.
"Diariamente é disponibilizado arquivo retorno (RCB001 / CBR643 / CNAB240) com
as informações de todos os pagamentos realizados no dia anterior. Por meio desse
arquivo a loja dará o tratamento necessário para confirmar os pagamentos
recebidos." (Retirado da documentação oficial bb: http://www.bb.com.br/docs/pub/emp/empl/dwn/Orientacoes.pdf)


testar em que momento o boleto é gerado!
Testar todo o ciclo de vida dele até achar!
Isso pode ser conferido dentro do html do Formulário enviado ao bb/mpag, pela variável "tpPagamento"

---------------------

Lições tiradas:

1 - Apesar de termos o form enviado para mpag para gerar o boleto, se a var "tpPagamento" for "21" (que representa 2ª via)
os dados inseridos, não serão levados em consideração para alteração no boleto retornado.

2 - Apesar disto, os dados enviados neste form devem estar formatados corretamente, como que mostrando que há uma validação da forma dos dados no servidor do banco 
antes da interpretação deles.

3 - O site indicado pela documentação para envio do form para a troca de informações com o banco é: https://mpag.bb.com.br/site/mpag/
* Porém estávamos utilizando https://www16.bb.com.br/site/mpag/ sem nenhum problema

4 - Descrição no cabeçalho da página do boleto: [bb.com.br] - Boleto gerado pelo sistema MPAG (2a Via). 30/11/2016 08:27:06 (dia e hora em que fiz a requisição pelo form)

5 - Na primeira vez que o aluno clica para exibir o boleto no wescolas, o form que é enviado para mpag, vai com a var "tpPagamento" = "2"
a partir da segunda vez em diante que o aluno clica para visualizar o boleto, a var "tpPagamento" vai com o valor "21"

----------------------------------

entrar em contato com a agencias.

manual orientações técnicas
http://www.bb.com.br/docs/pub/emp/empl/dwn/Orientacoes.pdf

http://www.bb.com.br/pbb/pagina-inicial/empresarial/produtos-e-servicos/cash-management/comercio-eletronico#/

http://www.bb.com.br/portalbb/page44,3766,18879,0,0,1,2.bb

http://www.bb.com.br/docs/pub/emp/mpe/espeboletobb.pdf

http://www.bb.com.br/docs/pub/inst/dwn/tutorialCobWeb.pdf

http://www.bb.com.br/docs/pub/inst/dwn/tutorialProprio.pdf

http://www.bb.com.br/pbb/pagina-inicial/empresas/produtos-e-servicos/pagamentos-e-recebimentos/organizar-meus-recebimentos/cobrancas#/

http://www14.bancobrasil.com.br/office/plugins/cbr/

http://www.bb.com.br/portalbb/page44,3766,18879,0,0,1,2.bb

http://www.bb.com.br/pbb/pagina-inicial/empresas/produtos-e-servicos/pagamentos-e-recebimentos/organizar-meus-recebimentos/cobrancas#/




Fontes:

http://superlogica.com/o-fim-do-boleto-sem-registro/

http://github.com/manoelcampos/Retorno-BoletoPHP

https://github.com/andersondanilo/CnabPHP

http://www.bb.com.br/docs/pub/emp/mpe/dwn/TitulosRemessa.pdf

http://boletophp.com.br

https://vhsys.com.br/boleto-banco-do-brasil/


Próximos passos:

Estudar o sistema que usamos hoje. com emissão através de uma url do bb